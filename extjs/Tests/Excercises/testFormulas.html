<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>Data Binding Example - Implemented with classes</title>
    <link rel="stylesheet" type="text/css" href="../../../../resources/extjs/ext-5.0.0.736/build/examples/shared/example.css" />

    <!-- GC -->


		<link rel="stylesheet" type="text/css" href="../../../../resources/extjs/ext-5.0.0.736/packages/ext-theme-neptune/build/resources/ext-theme-neptune-all-debug.css">
		<script type="text/javascript" src="../../../../resources/extjs/ext-5.0.0.736/build/ext-all-debug.js"></script>

    </head>
    <body>
        <script>
Ext.define('KitchenSink.view.binding.FormulasModel', {
    extend: 'Ext.app.ViewModel',

    alias: 'viewmodel.binding-formulas',

    formulas: {
        quad: function (data) {
            return data.twice * 2;
        },

        // This accomplishes the same thing as above but using object syntax.
        twice: {
            get: function (data) {
                return data.x * 2;
            }
        }
    }
});

Ext.define('KitchenSink.view.binding.Formulas', {
    extend: 'Ext.panel.Panel',
    alias: 'widget.binding-formulas',

    title: 'View Model Formulas',

    width: 370,
    bodyPadding: 10,
    
    viewModel: {
        // Formulas are defined by the ViewModel:
        type: 'binding-formulas',
        data: {
            x: 10
        }
    },

    items: [{
        xtype: 'numberfield',
        fieldLabel: 'Number',
        bind: '{x}'
    }, {
        xtype: 'displayfield',
        fieldLabel: 'Calculated',
        bind: '{x} * 2 = {twice} / {x} * 4 = {quad}'
    }]
});

Ext.onReady(function () {
    Ext.create('KitchenSink.view.binding.Formulas', {
        renderTo: Ext.getBody(),
        width: 400
    });
});
        </script>
    </body>
</html>
