<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>Data Binding Example - Implemented with classes</title>
    <link rel="stylesheet" type="text/css" href="../../../../resources/extjs/ext-5.0.0.736/build/examples/shared/example.css" />

    <!-- GC -->


		<link rel="stylesheet" type="text/css" href="../../../../resources/extjs/ext-5.0.0.736/packages/ext-theme-neptune/build/resources/ext-theme-neptune-all-debug.css">
		<script type="text/javascript" src="../../../../resources/extjs/ext-5.0.0.736/build/ext-all-debug.js"></script>
		<script type="text/javascript" src="components.js"></script>
    </head>
    <body>
        <script>
Ext.namespace('KitchenSink.app.config');
KitchenSink.app.config.rootPath='../../../../'
KitchenSink.app.config.filesRepositoryPath='FilesRepository'
Ext.onReady(function () {
    Ext.create('Ext.form.Panel', {
		title: 'Upload a Photo',
		width: 400,
		bodyPadding: 10,
		frame: true,
		renderTo: Ext.getBody(),
		items: [{
			xtype: 'imagemanager',
			parentFolder:'Test',
			name: 'photo',
			fieldLabel: 'Photo',
			labelWidth: 50,
			msgTarget: 'side',
			allowBlank: false,
			anchor: '100%',
			buttonText: 'Select Photo...'
		}],

		buttons: [{
			text: 'Upload',
			handler: function() {
				var form = this.up('form').getForm();
				if(form.isValid()){
					form.submit({
						url: 'photo-upload.php',
						waitMsg: 'Uploading your photo...',
						success: function(fp, o) {
							Ext.Msg.alert('Success', 'Your photo "' + o.result.file + '" has been uploaded.');
						}
					});
				}
			}
		}]
	});
});
        </script>
    </body>
</html>
